{"version":3,"sources":["fetchPixabayserver.js","index.js"],"names":["fetchPixabay","name","page","response","fetch","ok","picture","json","Error","status","form","document","querySelector","btnLoadMore","onSearch","e","preventDefault","elements","currentTarget","searchQuery","value","total","totalHits","hits","console","log","onLoadMore","pictureMore","addEventListener"],"mappings":";;;AAQC,aARc,eAAeA,EAAaC,EAAMC,GACzCC,MAAAA,QAAiBC,2EAA2EH,uDAA0DC,KACxJ,GAACC,EAASE,GAEP,CAEEC,aADeH,EAASI,OAFzB,MAAA,IAAIC,MAAML,EAASM,QAK5B,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;AC4BA,aApCD,QAAA,oBACA,IAAA,EAAA,EAAA,QAAA,yBAmCC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAjCD,MAAMC,EAAOC,SAASC,cAAc,gBAC9BC,EAAcF,SAASC,cAAc,cAG3C,IAAIX,EAAO,GACPC,EAAO,EAKX,eAAeY,EAASC,GACtBA,EAAEC,iBAEI,MAAA,SAAEC,GAAaF,EAAEG,eACjB,YAAEC,GAAgBF,EACxBhB,EAAOkB,EAAYC,MAEf,IACId,MAAAA,QAAgB,EAAaL,EAAAA,SAAAA,EAAMC,IACnC,MAAEmB,EAAF,UAASC,EAAT,KAAoBC,GAASjB,EACnCkB,QAAQC,IAAIF,GACZ,MACAC,QAAQC,IAAI,WAOhB,eAAeC,IACPC,MAAAA,QAAoB,EAAa1B,EAAAA,SAAAA,EAAMC,IACvC,MAAEmB,EAAF,UAASC,EAAT,KAAoBC,GAASI,EACnCH,QAAQC,IAAIF,GAxBdb,EAAKkB,iBAAiB,SAAUd,GAmBhCD,EAAYe,iBAAiB,QAASF","file":"src.7bdb45d7.js","sourceRoot":"../src","sourcesContent":["export default async function fetchPixabay(name, page) {\n  const response = await fetch(`https://pixabay.com/api/?key=25718667-d0b548046b545cf0dd46ad07c&q=${name}&image_type=photo&safesearch=true&per_page=40&page=${page}`);\n  if (!response.ok) {\n    throw new Error(response.status);\n  } else {\n    const picture = await response.json();\n    return picture;\n  }\n};\n","import './css/styles.css';\nimport fetchPixabay from './fetchPixabayserver';\n\nconst form = document.querySelector(\"#search-form\");\nconst btnLoadMore = document.querySelector(\".load-more\");\n\n\nlet name = '';\nlet page = 2;\n\n\nform.addEventListener(\"submit\", onSearch);\n\nasync function onSearch(e) {\n  e.preventDefault();\n\n  const { elements } = e.currentTarget;\n  const { searchQuery } = elements;\n  name = searchQuery.value\n\n  try {\n    const picture = await fetchPixabay(name, page);\n    const { total, totalHits, hits } = picture;\n    console.log(hits);\n  } catch {\n    console.log(\"ошибка\");\n  }\n};\n\n\nbtnLoadMore.addEventListener('click', onLoadMore);\n\nasync function onLoadMore() {\n  const pictureMore = await fetchPixabay(name, page);\n  const { total, totalHits, hits } = pictureMore;\n  console.log(hits);\n};\n"]}